‡πÑ‡∏î‡πâ‡πÄ‡∏•‡∏¢! ‡∏ñ‡πâ‡∏≤‡∏Ñ‡∏∏‡∏ì‡∏≠‡∏¢‡∏≤‡∏Å‡∏ï‡∏±‡πâ‡∏á CI/CD ‡∏ö‡∏ô GitHub ‡πÄ‡∏û‡∏∑‡πà‡∏≠ deploy ‡πÇ‡∏õ‡∏£‡πÄ‡∏à‡∏Å‡∏ï‡πå Vite + React ‡πÑ‡∏õ‡∏¢‡∏±‡∏á Vercel ‡∏û‡∏£‡πâ‡∏≠‡∏°‡∏£‡∏∞‡∏ö‡∏ö preview ‡∏ö‡∏ô subdomain ‡πÅ‡∏•‡∏∞ auth middleware ‚Äî ‡πÄ‡∏£‡∏≤‡∏à‡∏∞‡πÉ‡∏ä‡πâ GitHub Actions ‡πÄ‡∏õ‡πá‡∏ô‡∏ï‡∏±‡∏ß‡∏Å‡∏•‡∏≤‡∏á‡πÉ‡∏ô‡∏Å‡∏≤‡∏£‡∏à‡∏±‡∏î‡∏Å‡∏≤‡∏£ workflow ‡∏≠‡∏±‡∏ï‡πÇ‡∏ô‡∏°‡∏±‡∏ï‡∏¥‡∏ó‡∏∏‡∏Å‡∏Ñ‡∏£‡∏±‡πâ‡∏á‡∏ó‡∏µ‡πà‡∏°‡∏µ‡∏Å‡∏≤‡∏£ push ‡∏´‡∏£‡∏∑‡∏≠ pull request

---

## ‚öôÔ∏è ‡∏Ç‡∏±‡πâ‡∏ô‡∏ï‡∏≠‡∏ô‡∏Å‡∏≤‡∏£‡∏ï‡∏±‡πâ‡∏á CI/CD ‡∏î‡πâ‡∏ß‡∏¢ GitHub Actions + Vercel

### 1. **‡∏™‡∏£‡πâ‡∏≤‡∏á‡πÑ‡∏ü‡∏•‡πå Workflow**

‡πÉ‡∏ô‡πÇ‡∏õ‡∏£‡πÄ‡∏à‡∏Å‡∏ï‡πå‡∏Ç‡∏≠‡∏á‡∏Ñ‡∏∏‡∏ì ‡∏™‡∏£‡πâ‡∏≤‡∏á‡πÑ‡∏ü‡∏•‡πå‡∏ó‡∏µ‡πà‡∏ä‡∏∑‡πà‡∏≠‡∏ß‡πà‡∏≤:

```
.github/workflows/deploy.yml
```

‡πÅ‡∏•‡πâ‡∏ß‡πÉ‡∏™‡πà‡πÄ‡∏ô‡∏∑‡πâ‡∏≠‡∏´‡∏≤‡∏õ‡∏£‡∏∞‡∏°‡∏≤‡∏ì‡∏ô‡∏µ‡πâ:

```yaml
name: Deploy to Vercel

on:
  push:
    branches:
      - main
      - preview/**

jobs:
  deploy:
    runs-on: ubuntu-latest
    steps:
      - name: Checkout repo
        uses: actions/checkout@v3

      - name: Setup Node.js
        uses: actions/setup-node@v3
        with:
          node-version: 18

      - name: Install dependencies
        run: npm ci

      - name: Build project
        run: npm run build

      - name: Deploy to Vercel
        uses: amondnet/vercel-action@v25
        with:
          vercel-token: ${{ secrets.VERCEL_TOKEN }}
          vercel-org-id: ${{ secrets.VERCEL_ORG_ID }}
          vercel-project-id: ${{ secrets.VERCEL_PROJECT_ID }}
          vercel-args: '--prod' # ‡∏´‡∏£‡∏∑‡∏≠‡πÑ‡∏°‡πà‡πÉ‡∏™‡πà‡πÄ‡∏û‡∏∑‡πà‡∏≠ deploy preview
        env:
          VERCEL_TOKEN: ${{ secrets.VERCEL_TOKEN }}
```

---

### 2. **‡∏ï‡∏±‡πâ‡∏á Secrets ‡∏ö‡∏ô GitHub**

‡πÑ‡∏õ‡∏ó‡∏µ‡πà GitHub repo > Settings > Secrets > Actions ‡πÅ‡∏•‡πâ‡∏ß‡πÄ‡∏û‡∏¥‡πà‡∏°:

| Secret Name         | ‡∏Ñ‡∏≥‡∏≠‡∏ò‡∏¥‡∏ö‡∏≤‡∏¢ |
|---------------------|-----------|
| `VERCEL_TOKEN`      | Token ‡∏à‡∏≤‡∏Å Vercel (‡πÑ‡∏î‡πâ‡∏à‡∏≤‡∏Å Account Settings > Tokens) |
| `VERCEL_ORG_ID`     | ID ‡∏Ç‡∏≠‡∏á‡∏≠‡∏á‡∏Ñ‡πå‡∏Å‡∏£‡πÉ‡∏ô Vercel |
| `VERCEL_PROJECT_ID` | ID ‡∏Ç‡∏≠‡∏á‡πÇ‡∏õ‡∏£‡πÄ‡∏à‡∏Å‡∏ï‡πå‡πÉ‡∏ô Vercel |

‡∏Ñ‡∏∏‡∏ì‡∏™‡∏≤‡∏°‡∏≤‡∏£‡∏ñ‡∏´‡∏≤ `ORG_ID` ‡πÅ‡∏•‡∏∞ `PROJECT_ID` ‡πÑ‡∏î‡πâ‡∏à‡∏≤‡∏Å Vercel dashboard ‡∏´‡∏£‡∏∑‡∏≠‡πÉ‡∏ä‡πâ CLI:

```bash
vercel inspect
```

---

### 3. **‡πÅ‡∏¢‡∏Å Branch ‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö Preview**

- ‡πÉ‡∏ä‡πâ branch ‡πÄ‡∏ä‡πà‡∏ô `preview/auth-subdomain`
- ‡∏ó‡∏∏‡∏Å‡∏Ñ‡∏£‡∏±‡πâ‡∏á‡∏ó‡∏µ‡πà push ‡πÑ‡∏õ branch ‡∏ô‡∏µ‡πâ GitHub Actions ‡∏à‡∏∞ deploy ‡πÑ‡∏õ‡∏¢‡∏±‡∏á preview URL ‡∏Ç‡∏≠‡∏á Vercel
- ‡∏Ñ‡∏∏‡∏ì‡∏™‡∏≤‡∏°‡∏≤‡∏£‡∏ñ‡∏ï‡∏±‡πâ‡∏á subdomain ‡πÉ‡∏´‡πâ‡∏ä‡∏µ‡πâ‡πÑ‡∏õ‡∏¢‡∏±‡∏á preview deployment ‡πÑ‡∏î‡πâ ‡πÄ‡∏ä‡πà‡∏ô `preview.yourdomain.com`

---

### 4. **‡∏£‡∏ß‡∏°‡∏Å‡∏±‡∏ö Auth Middleware**

- ‡πÉ‡∏ô branch preview ‡πÉ‡∏´‡πâ‡πÉ‡∏™‡πà middleware ‡∏ó‡∏µ‡πà‡∏Ñ‡∏∏‡∏ì‡∏™‡∏£‡πâ‡∏≤‡∏á‡πÑ‡∏ß‡πâ‡∏Å‡πà‡∏≠‡∏ô‡∏´‡∏ô‡πâ‡∏≤
- ‡πÄ‡∏°‡∏∑‡πà‡∏≠ deploy ‡πÄ‡∏™‡∏£‡πá‡∏à preview URL ‡∏à‡∏∞‡∏°‡∏µ auth ‡∏õ‡πâ‡∏≠‡∏á‡∏Å‡∏±‡∏ô‡∏Å‡∏≤‡∏£‡πÄ‡∏Ç‡πâ‡∏≤‡∏ñ‡∏∂‡∏á

---

## üß† ‡πÄ‡∏Ñ‡∏•‡πá‡∏î‡∏•‡∏±‡∏ö‡πÄ‡∏™‡∏£‡∏¥‡∏°

- ‡πÉ‡∏ä‡πâ `vercel-args: '--prod'` ‡πÄ‡∏â‡∏û‡∏≤‡∏∞‡∏ï‡∏≠‡∏ô merge ‡πÄ‡∏Ç‡πâ‡∏≤ `main`
- ‡πÉ‡∏ä‡πâ GitHub Actions matrix ‡∏ñ‡πâ‡∏≤‡∏Ñ‡∏∏‡∏ì‡∏°‡∏µ‡∏´‡∏•‡∏≤‡∏¢ environment (dev/staging/prod)
- ‡πÄ‡∏û‡∏¥‡πà‡∏°‡∏Ç‡∏±‡πâ‡∏ô‡∏ï‡∏≠‡∏ô `lint` ‡∏´‡∏£‡∏∑‡∏≠ `test` ‡∏Å‡πà‡∏≠‡∏ô deploy ‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏Ñ‡∏ß‡∏≤‡∏°‡∏°‡∏±‡πà‡∏ô‡πÉ‡∏à

---

‡∏≠‡∏¢‡∏≤‡∏Å‡πÉ‡∏´‡πâ‡∏ä‡πà‡∏ß‡∏¢ generate deploy.yml ‡πÅ‡∏ö‡∏ö‡∏õ‡∏£‡∏±‡∏ö‡πÅ‡∏ï‡πà‡∏á‡πÄ‡∏â‡∏û‡∏≤‡∏∞‡πÇ‡∏õ‡∏£‡πÄ‡∏à‡∏Å‡∏ï‡πå‡∏Ñ‡∏∏‡∏ì‡πÑ‡∏´‡∏° ‡πÄ‡∏ä‡πà‡∏ô‡πÉ‡∏ä‡πâ `pnpm`, ‡∏°‡∏µ `env`, ‡∏´‡∏£‡∏∑‡∏≠ deploy ‡∏´‡∏•‡∏≤‡∏¢ branch ‡∏û‡∏£‡πâ‡∏≠‡∏°‡∏Å‡∏±‡∏ô?
